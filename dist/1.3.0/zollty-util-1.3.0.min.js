/*!zollty-util.js 1.3.0 - http://zollty-org.github.io/zollty-util.js/ */!function(){!function(a){var b=this||(0,eval)("this"),c=b["document"],e=(b["navigator"],b["jQuery"]);b["JSON"],function(a){"function"==typeof define&&define["amd"]?define(["exports","require"],a):"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(module["exports"]||exports):a(b["zt"]={})}(function(d){function i(){4===this.readyState&&(200===this.status?this.callback.apply(this,this.arguments):console.error(this.statusText))}var h,j,m,n,o,g="undefined"!=typeof d?d:{};g.version="1.3.0",h=function(){return b.ActiveXObject!==a?new b.ActiveXObject("Microsoft.XMLHTTP"):new b.XMLHttpRequest},g.ajaxGetText=function(a){var b=h();b.open("GET",a,!1);try{b.send(null)}catch(c){return null}return 404==b.status||2==b.status||0==b.status&&""==b.responseText?null:b.responseText},g.ajaxRequest=function(a,b,c){b=b?b:"GET";var d=h();d.onreadystatechange=function(){4==d.readyState&&c(d)},d.open(b,a),d.send(null)},g.asynGetText=function(c,d){var e,f;b.ActiveXObject!==a?(e=new b.ActiveXObject("Microsoft.XMLHTTP"),f=Array.prototype.slice.call(arguments,2),e.onreadystatechange=function(){4==e.readyState&&(200==e.status||0==e.status||304==e.status)&&d.apply(e,f)},e.open("GET",c,!0),e.send(null)):(e=new b.XMLHttpRequest,e.callback=d,e.ontimeout=function(){console.error("The request for "+c+" timed out.")},e.arguments=Array.prototype.slice.call(arguments,2),e.onload=i,e.onerror=function(){console.error(this.statusText)},e.open("GET",c,!0),e.timeout=5e3,e.send(null))},j=g.cacheStore={},g.getBaseURL=function(){var a=j["baseURL"];return a&&null!=a?a:(a=n(),j["baseURL"]=a,a)},g.getContextPath=function(a){var b=j["contextPath"];return b&&null!=b?b:(b=o(a),j["contextPath"]=b,b)},m=function(){var a;try{a=location.href}catch(b){a=c.createElement("a"),a.href="",a=a.href}return a},n=function(){var d,a=m(),c=a.indexOf("?");return-1!=c&&(a=a.substring(0,c)),d=b.document.location.pathname,a.substr(0,a.length-d.length+d.substr(1).indexOf("/")+2)},o=function(a){var e,f,c=m(),d=c.indexOf("?");for(-1!=d&&(c=c.substring(0,d)),e=b.document.location.pathname,f=1;a>f;f++)e=e.substr(e.substr(1).indexOf("/")+1);return c.substr(0,c.length-e.length+e.substr(1).indexOf("/")+2)},g.getUrlParam=function(a){var e,f,g,h,b=m(),c=b.substring(b.indexOf("?")+1,b.length).split("&"),d={};for(f=0;e=c[f];f++)d[e.substring(0,e.indexOf("=")).toLowerCase()]=e.substring(e.indexOf("=")+1,e.length);return g=d[a.toLowerCase()],"undefined"==typeof g?"":(h=g.indexOf("#"),-1==h?g:g.substring(0,h))},e&&(e.extend(e.fn,{ztCheckboxValue:function(a){var b="";return e(this).each(function(){b+="undefined"==typeof a?e(this).val()+",":e(this).val()+a}),b.length>0&&(b=b.substring(0,b.length-1)),b},ztCheckboxAll:function(a){if(e(this).size()==a)return"ALL";var b="";return e(this).each(function(){b+=e(this).val()+","}),b.length>0&&(b=b.substring(0,b.length-1)),b}}),e.extend({ztLoadScript:function q(a){if(!(a.length<1)){var b=a.shift();jQuery.ajax({url:b,dataType:"script",cache:!1}).complete(function(c,d){"success"!=d&&console.log("load script error: "+b),q(a)})}}}))})}()}();
